# Exported Environment variables
#export PATH="$PATH:/usr/share/colcon_cd/function"
#. /usr/share/colcon_argcomplete/hook/colcon-argcomplete.bash
export WEBOTS_HOME=/usr/local/webots
export WEBOTS_LIBRARY_PATH=/home/collin/documents/ros/dual_arm_ws/devel/lib/webots_sim_driver
export WEBOTS_PROJECT=/home/collin/documents/ros/dual_arm_ws/src/dual_arm_control/hardware/webots_sim_driver

#export CATKIN_WS=~/documents/ros/test_ws
export CATKIN_WS=~/temp/test-ws

#export COLCON_WS=~/documents/ateam/software_ws
export COLCON_WS=~/documents/slam-suit/slam_suit_ws


# Useful Aliases
alias rosdep-install="rosdep install --from-paths src --ignore-src -r -y"
alias cdws="cd $CATKIN_WS"

#Useful Functions
ros2-color() {
    ros2 $@ | grep --color -e ".*FATAL.*" --color -e ".*ERROR.*" -e "^"
}

catkin-build() {
    cd $CATKIN_WS && catkin build $@ && source devel/setup.$SHELL_EXTENSION
    cd -
}

catkinbuild() {
    catkin-build $@
}

catkin-build-debug() {
    cd $CATKIN_WS && catkin build --cmake-args -DCMAKE_BUILD_TYPE=Debug $@ && source devel/setup.$SHELL_EXTENSION
    cd -
}

catkinbuilddebug() {
    catkin-build-debug $@
}

catkin-make() {
    cd $CATKIN_WS && catkin_make && source devel/setup.$SHELL_EXTENSION
    cd -
}

catkin-clean() {
    cd $CATKIN_WS && catkin clean
    cd -
}

colcon-build() {
    cd $COLCON_WS && colcon build --symlink-install --packages-select $@ && source install/setup.$SHELL_EXTENSION
    cd -
}

colcon-build-all() {
    cd $COLCON_WS && colcon build --symlink-install && source install/setup.$SHELL_EXTENSION
    cd -
}

colcon-build-debug() {
    cd $COLCON_WS && colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Debug --packages-select $@ && source install/setup.$SHELL_EXTENSION
    cd -
}

colcon-build-debug-all() {
    cd $COLCON_WS && colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Debug && source install/setup.$SHELL_EXTENSION
    cd -
}

setup-melodic() {
    source /opt/ros/melodic/setup.$SHELL_EXTENSION
    source $CATKIN_WS/devel/setup.$SHELL_EXTENSION
}

setup-noetic() {
    source /opt/ros/noetic/setup.$SHELL_EXTENSION
    source $CATKIN_WS/devel/setup.$SHELL_EXTENSION
}

setup-foxy() {
    source /opt/ros/foxy/setup.$SHELL_EXTENSION
    export _colcon_cd_root=$COLCON_WS
    source $COLCON_WS/install/setup.$SHELL_EXTENSION

    alias rostopic="ros2 topic"
    alias roslaunch="ros2 launch"
}

setup-galactic() {
    source /opt/ros/galactic/setup.$SHELL_EXTENSION
    export _colcon_cd_root=$COLCON_WS
    source $COLCON_WS/install/setup.$SHELL_EXTENSION

    alias rostopic="ros2 topic"
    alias roslaunch="ros2 launch"
}

setup-colcon-cd() {
    sudo chmod +xrw /usr/share/colcon_cd/function/colcon_cd.sh
    sudo ln -s /usr/share/colcon_cd/function/colcon_cd.sh /usr/share/colcon_cd/function/colcon_cd
    sudo chmod +xrw /usr/share/col
    con_cd/function/colcon_cd
}

#setup-melodic
setup-noetic
#setup-foxy
#setup-galactic

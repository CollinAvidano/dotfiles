# A function to see if a command exists. Basically cross platform which
exists() {
    command -v $1 >/dev/null
    return $?
}

# some basic cd functions
cdup() {
    limit=$1
    counter=1
    while [ $counter -le $limit ]
    do
        cd ../
        ((counter++))
    done
}

dockershell() {
    docker run -it $1 /bin/bash
}

# Shortcut creating function
short() {
    echo alias $1=\'$PWD\/$2\' >> ~/.dotfiles/system/.shortcuts
    source ~/.zshrc
}

catkinbuild() {
    cd $CATKIN_WS && catkin build && source devel/setup.zsh
    cd -
}

catkinmake() {
    cd $CATKIN_WS && catkin_make && devel/setup.zsh
    cd -
}

catkinclean() {
    cd $CATKIN_WS && catkin clean
    cd -
}

submoduleadd() {
	git submodule add $1
	git submodule update --init --recursive
	cd $CATKIN_WS && rosdep install --from-paths src --ignore-src -r -y
}

submoduleremove() {
	repopath=$(git rev-parse --show-toplevel)

	git submodule deinit $1
	git rm $1
	git commit -m "Removed submodule"
	rm -rf $repopath/.git/modules/$1
}

